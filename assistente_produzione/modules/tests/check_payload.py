import tiktoken
import json
query_result = """
[{'CODICE': '003507', 'DESCRIZIONE': '60X120 RTT TRAV. AMBRA MEMENTO', 'GIACENZA': Decimal('4.32'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('511.68')},
{'CODICE': '003991', 'DESCRIZIONE': '60X120 RTT BEIGE STONE COLL.', 'GIACENZA': Decimal('201.60'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('314.40')},
{'CODICE': '004011', 'DESCRIZIONE': '60X120 RTT CULT GREY', 'GIACENZA': Decimal('102.24'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('413.76')},
{'CODICE': '004043', 'DESCRIZIONE': '60X120 QUANTICO GRIS RTT', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '004185', 'DESCRIZIONE': '60X120 DEC. FLOWER GREY RT', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '004437', 'DESCRIZIONE': '60X120 RTT ABITA ARGENTO', 'GIACENZA': Decimal('12.96'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('503.04')},
{'CODICE': '004440A', 'DESCRIZIONE': '60X120 RTT ABITA FERRO', 'GIACENZA': Decimal('7348.32'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '004999A', 'DESCRIZIONE': '60X120 RTT ERMETICA BIANCO', 'GIACENZA': Decimal('6981.12'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005000A', 'DESCRIZIONE': '60X120 ERMETICA GRIGIO RTT', 'GIACENZA': Decimal('6603.84'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005303', 'DESCRIZIONE': '60X120 PORTLAND GREY RTT', 'GIACENZA': Decimal('4700.16'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005306', 'DESCRIZIONE': '60X120 PORTLAND BABY BLUE RTT', 'GIACENZA': Decimal('2243.52'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005319', 'DESCRIZIONE': '60X120 BLUE PALM RTT DECORS', 'GIACENZA': Decimal('1794.24'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005444', 'DESCRIZIONE': '60X120 IROC WHITE RTT R11 (CL 35)', 'GIACENZA': Decimal('7898.40'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005468', 'DESCRIZIONE': 'SHELLSTONE TAUPE 60x120 Rettificato', 'GIACENZA': Decimal('2312.64'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303280A', 'DESCRIZIONE': 'QUARRY MONSOON 60x120 RETT', 'GIACENZA': Decimal('698.40'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303333', 'DESCRIZIONE': 'QUARRY CLOUD 60X120 RETT LAPP IN CRESTA', 'GIACENZA': Decimal('2.88'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('513.12')},
{'CODICE': '303417', 'DESCRIZIONE': 'DECORO FABRIC 60X120 RTT', 'GIACENZA': Decimal('1028.16'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303468A', 'DESCRIZIONE': 'BASIC GREY 60X120 RETT CL 35', 'GIACENZA': Decimal('4328.64'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303490A', 'DESCRIZIONE': 'VALS DARK 60X120 RETT cl35', 'GIACENZA': Decimal('3016.80'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303521A', 'DESCRIZIONE': 'LINES 60x120 RETT CL 35', 'GIACENZA': Decimal('4914.72'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303645A', 'DESCRIZIONE': 'GARE LIGHT GREY 60x120 RETT CL 35', 'GIACENZA': Decimal('9226.08'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303741A', 'DESCRIZIONE': 'MANSION MID 60X120 RETT cl35', 'GIACENZA': Decimal('3955.68'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303742', 'DESCRIZIONE': 'MANSION EXTREME 60X120 RTT', 'GIACENZA': Decimal('764.64'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303836M', 'DESCRIZIONE': 'NATURE BIANCO 60X120  RETT', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '303920A', 'DESCRIZIONE': 'FIORE 60x120 RETT CL 35', 'GIACENZA': Decimal('8709.64'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303944M', 'DESCRIZIONE': 'PAINT WHITE 60X120 RETT', 'GIACENZA': Decimal('131.04'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('384.96')},
{'CODICE': '303960M', 'DESCRIZIONE': 'BLUE FOREST RTT 60X120 DECORS \rRipresa grafica tra le diverse lastre contenuta entro una tolleranza di 3 mm\r', 'GIACENZA': Decimal('171.36'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('344.64')},
{'CODICE': '304127', 'DESCRIZIONE': 'ARGOS BEIGE 60x120 Rettificato', 'GIACENZA': Decimal('8520.48'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '304145', 'DESCRIZIONE': 'GEOLOGY TERRA 60x120 Rettificato', 'GIACENZA': Decimal('10365.12'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '304148', 'DESCRIZIONE': 'GEOLOGY COTTO 60x120 Rettificato', 'GIACENZA': Decimal('2803.68'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '3514183', 'DESCRIZIONE': '60X120 ELEGANCE PEARL RT', 'GIACENZA': Decimal('1864.80'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'EMT094', 'DESCRIZIONE': 'EMOTION ANTHRACITE 60x120 Rettificato', 'GIACENZA': Decimal('11494.08'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'FSN082', 'DESCRIZIONE': '60X120 RTT FUSION GRIGIO R11', 'GIACENZA': Decimal('2592.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'MNL034', 'DESCRIZIONE': 'MINIMAL TITANIUM 60X120 RETT', 'GIACENZA': Decimal('5725.44'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'MTS043', 'DESCRIZIONE': 'MYTHOS STEEL 60x120 RETT', 'GIACENZA': Decimal('38.88'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('477.12')},
{'CODICE': 'MTS044A', 'DESCRIZIONE': '60X120 MYTHOS PLOMB RTT', 'GIACENZA': Decimal('34.56'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('481.44')},
{'CODICE': 'VSM002', 'DESCRIZIONE': 'VISION MATT CALACATTA ORO 60x120 RETT', 'GIACENZA': Decimal('5279.04'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'VSM003', 'DESCRIZIONE': 'VISION MATT NERO RTT 60X120', 'GIACENZA': Decimal('3939.84'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '003760', 'DESCRIZIONE': '60X120 RTT / LPP TRAV. BIANCO MEMENTO', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '003914A', 'DESCRIZIONE': '60X120 FOLK GRIGIO RETT. NUOVO IMBALLO cl 35', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '003915A', 'DESCRIZIONE': '60X120 FOLK BIANCO RETT. NUOVO IMBALLO cl 35', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '003937A', 'DESCRIZIONE': 'ASPEN ANTRACITE RTT 60X120 cl 35', 'GIACENZA': Decimal('3540.96'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '003938', 'DESCRIZIONE': '60X120 RTT ASPEN GRIGIO', 'GIACENZA': Decimal('113.76'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('402.24')},
{'CODICE': '004011A', 'DESCRIZIONE': '60X120 CULT GREY RTT cl35', 'GIACENZA': Decimal('5748.48'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '004189A', 'DESCRIZIONE': 'CITY BEIGE RTT 60X120  cl 35 (CULT)', 'GIACENZA': Decimal('7575.84'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '004410', 'DESCRIZIONE': '60X120 RTT IROC WHITE', 'GIACENZA': Decimal('30.24'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('485.76')},
{'CODICE': '004915', 'DESCRIZIONE': '60X120 UNIKA SAND RETT.', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '005320', 'DESCRIZIONE': '60X120 TWILIGHT RTT DECORS', 'GIACENZA': Decimal('2080.80'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005373', 'DESCRIZIONE': '60X120 RTT EVOQ NERO', 'GIACENZA': Decimal('6805.44'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005374', 'DESCRIZIONE': '60X120 RTT EVOQ POLVERE', 'GIACENZA': Decimal('8779.68'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005486', 'DESCRIZIONE': 'SHELLSTONE BEIGE 60x120 Rettificato', 'GIACENZA': Decimal('6297.12'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005503', 'DESCRIZIONE': 'RIGAT-ONE SHELLSTONE GRIGIO 60x120 Rettificato', 'GIACENZA': Decimal('1576.80'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '005514', 'DESCRIZIONE': 'RIGAT-ONE FRAME MID 60x120 Rettificato', 'GIACENZA': Decimal('1668.96'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303272A', 'DESCRIZIONE': 'QUARRY CLOUD 60x120 RETT CL 35', 'GIACENZA': Decimal('1632.96'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303303A', 'DESCRIZIONE': 'SMOT BEIGE 60x120 RETT CL 35', 'GIACENZA': Decimal('3795.84'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303304', 'DESCRIZIONE': 'SMOT ANTHRACITE 60x120 RETT', 'GIACENZA': Decimal('227.52'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('288.48')},
{'CODICE': '303334A', 'DESCRIZIONE': 'QUARRY MOON 60x120 RETT LAPP IN CRESTA CL 35', 'GIACENZA': Decimal('2194.56'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303465A', 'DESCRIZIONE': 'BASIC BEIGE 60X120 RETT CL 35', 'GIACENZA': Decimal('8239.68'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303468', 'DESCRIZIONE': 'BASIC GREY 60X120 RETT', 'GIACENZA': Decimal('244.80'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('271.20')},
{'CODICE': '303645', 'DESCRIZIONE': 'GARE LIGHT GREY 60X120 RTT', 'GIACENZA': Decimal('56.16'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('459.84')},
{'CODICE': '303646A', 'DESCRIZIONE': 'GARE GREY 60x120 RETT CL 35', 'GIACENZA': Decimal('13262.40'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303741', 'DESCRIZIONE': 'MANSION MID 60X120 RTT', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': '303845A', 'DESCRIZIONE': 'NATURE GREIGE 60x120 RETT CL 35', 'GIACENZA': Decimal('4724.64'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303947', 'DESCRIZIONE': 'PAINT BLUE 60X120 RETT', 'GIACENZA': Decimal('3834.72'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '303950', 'DESCRIZIONE': 'FANTASY 60x120 RETT', 'GIACENZA': Decimal('915.84'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '304014', 'DESCRIZIONE': 'MASK GRAPHITE 60x120 Rettificato', 'GIACENZA': Decimal('6071.04'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': '304149', 'DESCRIZIONE': 'GEOLOGY SALVIA 60x120 Rettificato', 'GIACENZA': Decimal('3035.52'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'EUR-5902', 'DESCRIZIONE': 'MILANO GRIGIO NATURALE 60X120 RTT', 'GIACENZA': Decimal('0.00'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('516.00')},
{'CODICE': 'EX1100', 'DESCRIZIONE': 'EXTRA BEIGE 60X120 RETT', 'GIACENZA': Decimal('30.24'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('485.76')},
{'CODICE': 'EX1103A', 'DESCRIZIONE': 'EXTRA GREY 60X120 RTT cl35', 'GIACENZA': Decimal('3791.52'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'FSN033A', 'DESCRIZIONE': '60X120 RTT FUSION ANTRACITE', 'GIACENZA': Decimal('2492.64'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'FSN034', 'DESCRIZIONE': 'FUSION TORTORA 60x120 RETT', 'GIACENZA': Decimal('31.68'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('484.32')},
{'CODICE': 'FSN080A', 'DESCRIZIONE': '60X120 RTT FUSION BRONZO RUGGINE', 'GIACENZA': Decimal('2557.44'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'FSN081', 'DESCRIZIONE': '60X120 RTT FUSION BIANCO R11', 'GIACENZA': Decimal('4053.60'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')},
{'CODICE': 'PSG071A', 'DESCRIZIONE': 'PRESTIGE TRAMA BLANC 60X120 RTT cl35', 'GIACENZA': Decimal('1473.12'), 'MIN': 516, 'QuantitaDaProdurre': Decimal('0.00')}]
"""
encoding = tiktoken.encoding_for_model("gpt-4o")
tokens = encoding.encode(json.dumps(query_result))
print("Token totali nel payload:", len(tokens))
